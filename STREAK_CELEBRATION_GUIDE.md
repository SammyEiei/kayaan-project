# ЁЯОЙ Streak Celebration Popup - р╕Др╕╣р╣Ир╕бр╕╖р╕нр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

## р╕ар╕▓р╕Юр╕гр╕зр╕б

р╕гр╕░р╕Ър╕Ъ Streak Celebration Popup р╣Бр╕Ър╕Ъ Duolingo р╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╕Вр╕╢р╣Йр╕Щр╣Ар╕Юр╕╖р╣Ир╕нр╣Бр╕кр╕Фр╕З animation popup р╕кр╕зр╕вр╕Зр╕▓р╕бр╣Ар╕бр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╕гр╕▒р╕Ъ streak count!

## р╕Др╕╕р╕Ур╕кр╕бр╕Ър╕▒р╕Хр╕┤р╕лр╕ер╕▒р╕Б

### ЁЯОи Animation Effects
- тЬи **Confetti Animation** - р╕Ыр╕ер╣Ир╕нр╕вр╕Бр╕гр╕░р╕Фр╕▓р╕йр╕кр╕╡р╕кр╕▒р╕Щр╕кр╕░р╕Юр╕гр╕╢р╕Зр╕Хр╕▓р╣Ар╕бр╕╖р╣Ир╕нр╣Бр╕кр╕Фр╕З popup
- ЁЯОп **Bounce Animation** - Popup р╕Ир╕░ bounce р╣Ар╕Вр╣Йр╕▓р╕бр╕▓р╣Бр╕Ър╕Ър╕кр╕Щр╕╕р╕Бр╕кр╕Щр╕▓р╕Щ
- ЁЯФе **Fire Icon Animation** - р╣Др╕нр╕Др╕нр╕Щр╣Ар╕Ыр╕ер╕зр╣Др╕Яр╕бр╕╡р╕Бр╕▓р╕гр╣Ар╕Др╕ер╕╖р╣Ир╕нр╕Щр╣Др╕лр╕зр╣Бр╕ер╕░р╣Ар╕гр╕╖р╕нр╕Зр╣Бр╕кр╕З
- ЁЯУК **Progress Bar Animation** - р╣Бр╕Цр╕Ър╕Др╕зр╕▓р╕бр╕Др╕╖р╕Ър╕лр╕Щр╣Йр╕▓р╣Бр╕кр╕Фр╕Зр╣Бр╕Ър╕Ъ smooth
- ЁЯОк **Scale & Rotation Effects** - р╕Бр╕▓р╕гр╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕Чр╕╡р╣Ир╕бр╕╡р╕Кр╕╡р╕зр╕┤р╕Хр╕Кр╕╡р╕зр╕▓

### ЁЯПЖ Milestone Detection
р╕гр╕░р╕Ър╕Ър╕Ир╕░р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Бр╕ер╕░р╣Бр╕кр╕Фр╕З milestone р╕Юр╕┤р╣Ар╕ир╕й:
- **1 р╕зр╕▒р╕Щ** - р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ streak р╣Бр╕гр╕Б! 
- **5 р╕зр╕▒р╕Щ** - р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╣Др╕Фр╣Йр╕Фр╕╡! ЁЯМЯ
- **10 р╕зр╕▒р╕Щ** - р╕кр╕╕р╕Фр╕вр╕нр╕Ф! ЁЯОп
- **30 р╕зр╕▒р╕Щ** - р╕Ьр╕╣р╣Йр╕Кр╕Щр╕░! ЁЯПЖ
- **100 р╕зр╕▒р╕Щ** - р╕Хр╕│р╕Щр╕▓р╕Щ! ЁЯСС
- **р╕Чр╕╕р╕Б 7 р╕зр╕▒р╕Щ** - р╕Др╕гр╕Ър╕кр╕▒р╕Ыр╕Фр╕▓р╕лр╣М! ЁЯФе

## р╕Бр╕▓р╕гр╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕Зр╣Бр╕ер╕░р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

### 1. Components р╕Чр╕╡р╣Ир╕кр╕гр╣Йр╕▓р╕Зр╕Вр╕╢р╣Йр╕Щ

```
src/components/
тФЬтФАтФА StreakCelebrationPopup.vue      # Component р╕лр╕ер╕▒р╕Бр╕кр╕│р╕лр╕гр╕▒р╕Ър╣Бр╕кр╕Фр╕З popup
тФФтФАтФА StreakCelebrationContainer.vue  # Container р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕г popups

src/composables/
тФФтФАтФА useStreakCelebrations.ts        # Composable р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Ир╕▒р╕Фр╕Бр╕▓р╕г state
```

### 2. р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤

Celebration popup р╕Ир╕░р╣Бр╕кр╕Фр╕Зр╣Вр╕Фр╕вр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╣Ар╕бр╕╖р╣Ир╕н:
- р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕Чр╕│ daily task р╕кр╕│р╣Ар╕гр╣Зр╕И (р╣Ар╕Кр╣Ир╕Щ р╕кр╕гр╣Йр╕▓р╕З flashcard, р╕Чр╕│р╣Бр╕Ър╕Ър╕Чр╕Фр╕кр╕нр╕Ъ)
- Streak count р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╕╢р╣Йр╕Щ
- р╕Цр╕╢р╕З milestone р╕кр╕│р╕Др╕▒р╕Н

### 3. р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ

#### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 1: р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Ыр╕Бр╕Хр╕┤
1. р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ
2. р╕кр╕гр╣Йр╕▓р╕З content р╕лр╕гр╕╖р╕нр╕Чр╕│р╕Бр╕┤р╕Ир╕Бр╕гр╕гр╕бр╕Бр╕▓р╕гр╣Ар╕гр╕╡р╕вр╕Щр╕гр╕╣р╣Й
3. Streak popup р╕Ир╕░р╣Бр╕кр╕Фр╕Зр╕Вр╕╢р╣Йр╕Щр╕бр╕▓р╕Юр╕гр╣Йр╕нр╕б confetti! ЁЯОЙ

#### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 2: р╕Чр╕Фр╕кр╕нр╕Ър╕Фр╣Йр╕зр╕в Development Mode
р╣Ар╕Юр╕┤р╣Ир╕б code р╕Щр╕╡р╣Йр╣Гр╕Щ component р╣Гр╕Фр╕Бр╣Зр╣Др╕Фр╣Йр╣Ар╕Юр╕╖р╣Ир╕нр╕Чр╕Фр╕кр╕нр╕Ъ:

```vue
<template>
  <button @click="testCelebration">р╕Чр╕Фр╕кр╕нр╕Ъ Celebration Popup</button>
</template>

<script setup lang="ts">
import { useStreakCelebrations } from '@/composables/useStreakCelebrations'

const { showStreakCelebration } = useStreakCelebrations()

const testCelebration = () => {
  // р╕Чр╕Фр╕кр╕нр╕Ъ streak 10 р╕зр╕▒р╕Щ
  showStreakCelebration({
    success: true,
    message: 'Daily task completed!',
    streakCount: 10,
    freezingCount: 0,
    lastActivityTime: new Date().toISOString()
  })
}
</script>
```

#### р╕зр╕┤р╕Шр╕╡р╕Чр╕╡р╣И 3: р╕Чр╕Фр╕кр╕нр╕Ър╕Ьр╣Ир╕▓р╕Щ Console
р╣Ар╕Ыр╕┤р╕Ф Developer Console р╣Бр╕ер╕░р╕гр╕▒р╕Щ:

```javascript
// р╕Чр╕Фр╕кр╕нр╕Ъ streak 1 р╕зр╕▒р╕Щ (р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ)
const { showStreakCelebration } = useStreakCelebrations()
showStreakCelebration({
  success: true,
  message: 'Started streak!',
  streakCount: 1,
  freezingCount: 0,
  lastActivityTime: new Date().toISOString()
})

// р╕Чр╕Фр╕кр╕нр╕Ъ streak 100 р╕зр╕▒р╕Щ (р╕Хр╕│р╕Щр╕▓р╕Щ!)
showStreakCelebration({
  success: true,
  message: 'Legendary streak!',
  streakCount: 100,
  freezingCount: 0,
  lastActivityTime: new Date().toISOString()
})
```

## р╕Бр╕▓р╕гр╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕З

### р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓р╣Бр╕кр╕Фр╕З popup

р╣Бр╕Бр╣Йр╣Др╕Вр╣Гр╕Щ `useStreakCelebrations.ts`:

```typescript
addCelebration({
  streakCount,
  title: 'ЁЯОЙ р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╕кр╕▓р╕вр╣Ар╕гр╕╡р╕вр╕Щр╕гр╕╣р╣Й!',
  message: 'р╕вр╕┤р╕Щр╕Фр╕╡р╕Фр╣Йр╕зр╕в!',
  showProgress: true,
  autoClose: true,
  autoCloseDelay: 6000  // <-- р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Ар╕Ыр╣Зр╕Щ milliseconds р╕Чр╕╡р╣Ир╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г
})
```

### р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╣Бр╕кр╕Фр╕З

р╣Бр╕Бр╣Йр╣Др╕В title р╣Бр╕ер╕░ message р╣Гр╕Щ `useStreakCelebrations.ts`:

```typescript
if (streakCount === 1) {
  addCelebration({
    streakCount,
    title: 'ЁЯОЙ р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Вр╕нр╕Зр╕Др╕╕р╕У!',        // <-- р╣Бр╕Бр╣Йр╕Чр╕╡р╣Ир╕Щр╕╡р╣И
    message: 'р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Вр╕нр╕Зр╕Др╕╕р╕У!',      // <-- р╣Бр╕Бр╣Йр╕Чр╕╡р╣Ир╕Щр╕╡р╣И
    ...
  })
}
```

### р╣Ар╕Юр╕┤р╣Ир╕б/р╕ер╕Ф confetti

р╣Бр╕Бр╣Йр╣Др╕Вр╣Гр╕Щ `StreakCelebrationPopup.vue`:

```typescript
const confettiCount = 50  // <-- р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Ир╕│р╕Щр╕зр╕Щ confetti (р╕Др╣Ир╕▓р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ 50)
```

### р╕Ыр╕┤р╕Ф/р╣Ар╕Ыр╕┤р╕Ф progress bar

```typescript
addCelebration({
  ...
  showProgress: false,  // <-- р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Ар╕Ыр╣Зр╕Щ false р╣Ар╕Юр╕╖р╣Ир╕нр╕Лр╣Ир╕нр╕Щ progress bar
})
```

## р╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Ъ Toast Notification

р╕гр╕░р╕Ър╕Ър╕Щр╕╡р╣Йр╕Чр╕│р╕Зр╕▓р╕Щр╕Др╕зр╕Ър╕Др╕╣р╣Ир╕Бр╕▒р╕Ъ Toast Notification р╣Ар╕Фр╕┤р╕б:
- **Celebration Popup** - р╣Бр╕кр╕Фр╕Зр╣Ар╕бр╕╖р╣Ир╕н streak р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╕╢р╣Йр╕Щ (р╣Бр╕Ър╕Ър╕Бр╕ер╕▓р╕Зр╕Ир╕н, р╕бр╕╡ animation р╕Др╕гр╕Ъ)
- **Toast Notification** - р╣Бр╕кр╕Фр╕Зр╣Ар╕Хр╕╖р╕нр╕Щр╕нр╕╖р╣Ир╕Щр╣Ж р╣Ар╕Кр╣Ир╕Щ streak р╣Гр╕Бр╕ер╣Йр╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕ (р╕бр╕╕р╕бр╕лр╕Щр╣Йр╕▓р╕Ир╕н)

р╕Др╕╕р╕Ур╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Ыр╕┤р╕Ф Celebration Popup р╣Бр╕ер╕░р╣Гр╕Кр╣Йр╣Бр╕Др╣И Toast р╣Др╕Фр╣Йр╣Вр╕Фр╕вр╕Бр╕▓р╕гр╣Др╕Ыр╕Чр╕╡р╣И `studyStreak.ts` р╣Бр╕ер╕░р╕Др╕нр╕бр╣Ар╕бр╕Щр╕Хр╣Мр╕Ър╕гр╕гр╕Чр╕▒р╕Фр╕Щр╕╡р╣Й:

```typescript
// р╣Бр╕кр╕Фр╕З celebration popup р╣Бр╕Ър╕Ъ Duolingo! ЁЯОЙ
// showStreakCelebration(response);  // <-- р╕Др╕нр╕бр╣Ар╕бр╕Щр╕Хр╣Мр╕Ър╕гр╕гр╕Чр╕▒р╕Фр╕Щр╕╡р╣Й
```

## Troubleshooting

### Popup р╣Др╕бр╣Ир╣Бр╕кр╕Фр╕З
1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ `StreakCelebrationContainer` р╕Цр╕╣р╕Б mount р╣Гр╕Щ App.vue р╣Бр╕ер╣Йр╕з
2. р╣Ар╕Кр╣Зр╕Д Console р╕кр╕│р╕лр╕гр╕▒р╕Ъ error messages
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ `useStreakCelebrations` р╕Цр╕╣р╕Б import р╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З

### Animation р╕Кр╣Йр╕▓р╕лр╕гр╕╖р╕нр╕кр╕░р╕Фр╕╕р╕Ф
1. р╕ер╕Фр╕Ир╕│р╕Щр╕зр╕Щ confetti (р╣Бр╕Бр╣Йр╣Др╕В `confettiCount`)
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ performance р╕Вр╕нр╕З browser
3. р╕ер╕Ф duration р╕Вр╕нр╕З animation р╣Гр╕Щ CSS

### Popup р╕Чр╕▒р╕Ър╕Лр╣Йр╕нр╕Щр╕Бр╕▒р╕Щ
р╕гр╕░р╕Ър╕Ър╕Ир╕░р╣Бр╕кр╕Фр╕З popup р╕Чр╕╡р╕ер╕░ 1 р╕нр╕▒р╕Щ р╣Вр╕Фр╕вр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤ (р╕бр╕╡р╕Бр╕▓р╕г clear popup р╣Ар╕Бр╣Ир╕▓р╕Бр╣Ир╕нр╕Щр╣Бр╕кр╕Фр╕Зр╣Гр╕лр╕бр╣И)

## API Reference

### `useStreakCelebrations()`

```typescript
interface StreakCelebration {
  id: string
  streakCount: number
  title: string
  message: string
  showProgress: boolean
  autoClose: boolean
  autoCloseDelay: number
}

const {
  celebrations,              // Ref<StreakCelebration[]>
  addCelebration,           // (celebration: Omit<StreakCelebration, 'id'>) => string
  removeCelebration,        // (id: string) => void
  clearCelebrations,        // () => void
  showStreakCelebration,    // (result: TaskCompletionResponse) => void
  showDailyTaskCelebration, // (taskType, streakCount) => void
  showStreakMilestone       // (streakCount) => void
} = useStreakCelebrations()
```

### Props р╕кр╕│р╕лр╕гр╕▒р╕Ъ `StreakCelebrationPopup`

```typescript
interface Props {
  streakCount: number        // р╕Ир╕│р╕Щр╕зр╕Щ streak (required)
  title?: string            // р╕лр╕▒р╕зр╕Вр╣Йр╕н popup
  message?: string          // р╕Вр╣Йр╕нр╕Др╕зр╕▓р╕б popup
  showProgress?: boolean    // р╣Бр╕кр╕Фр╕З progress bar р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
  autoClose?: boolean       // р╕Ыр╕┤р╕Фр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
  autoCloseDelay?: number   // р╕гр╕░р╕вр╕░р╣Ар╕зр╕ер╕▓р╕Бр╣Ир╕нр╕Щр╕Ыр╕┤р╕Ф (ms)
}
```

## р╕кр╕гр╕╕р╕Ы

р╕гр╕░р╕Ър╕Ъ Streak Celebration Popup р╕Щр╕╡р╣Йр╕Цр╕╣р╕Бр╕нр╕нр╕Бр╣Бр╕Ър╕Ър╕бр╕▓р╣Ар╕Юр╕╖р╣Ир╕н:
- тЬЕ р╕кр╕гр╣Йр╕▓р╕Зр╣Бр╕гр╕Зр╕Ир╕╣р╕Зр╣Гр╕Ир╣Гр╕лр╣Йр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╣Ар╕гр╕╡р╕вр╕Щр╕гр╕╣р╣Йр╕Хр╣Ир╕нр╣Ар╕Щр╕╖р╣Ир╕нр╕З
- тЬЕ р╣Бр╕кр╕Фр╕З animation р╕кр╕зр╕вр╕Зр╕▓р╕бр╣Бр╕Ър╕Ъ Duolingo
- тЬЕ р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕Зр╣Ир╕▓р╕в р╕Чр╕│р╕Зр╕▓р╕Щр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- тЬЕ р╕Ыр╕гр╕▒р╕Ър╣Бр╕Хр╣Ир╕Зр╣Др╕Фр╣Йр╕Хр╕▓р╕бр╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕г

Happy Learning! ЁЯОУтЬи

